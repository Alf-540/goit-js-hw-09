{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state'\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', () => {\n    const email = form.elements.email.value;\n    const message = form.elements.message.value;\n\n    const data = {\n        email,\n        message,\n    }\n    \n    saveInLS(STORAGE_KEY, data);\n});\n\nfunction loadFromLS(key) {\n    const data = localStorage.getItem(key);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}\n\nfunction saveInLS(key, value) {\n    const jsonSave = JSON.stringify(value);\n    localStorage.setItem(key, jsonSave);\n}\n\nfunction loadData() {\n    const {email, message} = loadFromLS(STORAGE_KEY) || {};\n    form.elements.email.value = email || '';\n    form.elements.message.value = message || '';\n}\n\nloadData();\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    if (form.elements.email.value && form.elements.message.value !== '') {\n        const data = loadFromLS(STORAGE_KEY) || {};\n        localStorage.removeItem(STORAGE_KEY);\n        form.reset();\n        const sendData = {\n            email: data.email,\n            message: data.message,\n        }\n        console.log(sendData);\n    } else {\n        alert(`Please fill in all form fields before submitting.`);\n    }\n});\n"],"names":["STORAGE_KEY","form","email","message","saveInLS","loadFromLS","key","data","value","jsonSave","loadData","e","sendData"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMC,EAAQD,EAAK,SAAS,MAAM,MAC5BE,EAAUF,EAAK,SAAS,QAAQ,MAOtCG,EAASJ,EALI,CACT,MAAAE,EACA,QAAAC,CACH,CAEyB,CAC9B,CAAC,EAED,SAASE,EAAWC,EAAK,CACrB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CAEA,OADe,KAAK,MAAMC,CAAI,CAEtC,MAAM,CACE,OAAOA,CACV,CACL,CAEA,SAASH,EAASE,EAAKE,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQF,EAAKG,CAAQ,CACtC,CAEA,SAASC,GAAW,CAChB,KAAM,CAAC,MAAAR,EAAO,QAAAC,CAAO,EAAIE,EAAWL,CAAW,GAAK,GACpDC,EAAK,SAAS,MAAM,MAAQC,GAAS,GACrCD,EAAK,SAAS,QAAQ,MAAQE,GAAW,EAC7C,CAEAO,IAEAT,EAAK,iBAAiB,SAAWU,GAAM,CAGnC,GAFAA,EAAE,eAAc,EAEZV,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,QAAU,GAAI,CACjE,MAAMM,EAAOF,EAAWL,CAAW,GAAK,CAAA,EACxC,aAAa,WAAWA,CAAW,EACnCC,EAAK,MAAK,EACV,MAAMW,EAAW,CACb,MAAOL,EAAK,MACZ,QAASA,EAAK,OACjB,EACD,QAAQ,IAAIK,CAAQ,CAC5B,MACQ,MAAM,mDAAmD,CAEjE,CAAC"}